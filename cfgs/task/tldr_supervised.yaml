# @package _global_

task:
  id: tldr
  args:
    #tokenizer_id: gpt2-xl
    tokenizer_id: EleutherAI/gpt-j-6b
    #tokenizer_id: EleutherAI/pythia-1.4b
    max_prompt_length: 500

sampling:
  batch_size_per_process: 4
  max_prompt_len: 500
  max_gen_len: 50
  prompt_padding_side: left
  prompt_truncation_side: left
  context_padding_side: right
  context_truncation_side: right
  train_generation_kwargs:
    do_sample: True
    max_new_tokens: ${sampling.max_gen_len}
  eval_generation_kwargs:
    #do_sample: False
    do_sample: True
    #num_beams: 5
    #top_p: 0.92
    max_new_tokens: ${sampling.max_gen_len}

eval_metrics:
  - id: rouge
    args:
      use_single_ref: True # note there is only 1 ref
